<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>GONC MDMer</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Converts referrals to a formatted MDM document" />
    <meta name="version" content="1.2">

    <link id="favicon" rel="icon" href="favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <!-- https://nostalgic-css.github.io/NES.css/ -->
    <link href="lib/nes.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <!-- https://docxtemplater.com -->
    <script src="lib/docxtemplater-3.40.2.js"></script>
    <!-- https://unpkg.com/pizzip@3.1.1/dist/pizzip.js -->
    <script src="lib/pizzip-3.1.1.js"></script>
    <!-- https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js -->
    <script src="lib/FileSaver-2.0.4.js"></script>
    <!-- https://unpkg.com/pizzip@3.1.1/dist/pizzip-utils.js -->
    <script src="lib/pizzip-utils-3.1.1.js"></script>
    <!-- https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js -->
    <script src="lib/moment-2.29.4.min.js"></script>
  </head>
  <body>
    <main class="container">
      <h1>
        GONC MDMer
        <span class="dedication">
          Gold Coast University Hospital
        </span>
      </h1>
      <section class="message-list">
        <section class="message -left">
          <i class="nes-mario"></i>
          <div class="nes-balloon from-left">
            <p id="message">Copy and paste a new referral and press go!</p>
          </div>
        </section>
      </section>
      <section class="nes-container with-title is-centered">
        <p class="title">Referral Converter</p>
          <textarea
            class="nes-textarea"
            name="referralRawText"
            id="referralRawText"
            placeholder="Paste referral text here"
            autocomplete=“off”
            rows="5"
          ></textarea>
          <button class="nes-btn is-primary is-disabled" id="submitReferral" disabled>
            Go!
          </button>
      </section>

      <section class="nes-container with-title is-centered hidden" id="mdmFileDropArea">
        <p class="title">List Checker</p>
        <section class="message-list">
          <section class="message -left" style="display: none;">
            <i class="nes-ash"></i>
            <div class="nes-balloon from-left">
              <div class="nes-field">
                <label for="mdmListInput">Paste MDM list here</label>
                <textarea
                  id="mdmListInput"
                  class="nes-textarea"
                  autocomplete=“off”></textarea>
              </div>
            </div>
          </section>

          <section class="message -right">
            <div class="nes-balloon from-right">
              <p>Drop all of the completed MDM templates here (docx format)</p>
            </div>
            <i class="nes-squirtle"></i>
          </section>
        </section>

        <section id="checker-output" class="hidden">
          <div class="nes-table-responsive">
            <table class="nes-table is-bordered is-centered">
              <thead>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>NHI</th>
                  <th>Listed</th>
                  <th>Templated</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>
        </section>

        <section class="nes-container with-title hidden" id="error-container">
          <p class="title">ERRORS</p>
          <div class="lists">
            <ul class="nes-list is-disc" id="errors">
              <!-- Errors are appended here -->
            </ul>
          </div>
        </section>

        <section class="message-list hidden" id="checker-section">
          <section class="message -left">
            <i class="nes-kirby"></i>
            <div class="nes-balloon from-left">
              <p id="checker-message">Ready to MDM!</p>
            </div>
          </section>
        </section>

      </section>
    </main>

    <footer>
      No data is tramitted across the internet.<br>
      View source on <a href="https://github.com/samholford/gonc-mdmer">GitHub</a>!
    </footer>
  </body>
  <script src="converter.js" type="text/javascript"></script>
  <script src="checker.js" type="text/javascript"></script>
</html>
